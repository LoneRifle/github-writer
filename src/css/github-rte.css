/**
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */

/*
	This are application specific styles, not the CKEditor theme.
*/

div.github-rte-ckeditor .ck-editor__editable {
	min-height: inherit;

	/* TODO: We're hardcoding a fixed height here.
	   It seems that GH originally calculates the height based on the viewport size, instead. */
	max-height: 350px;
}

div.github-rte-ckeditor .ck-editor__editable.ck-blurred {
	background-color: #fafbfc;
}

div.github-rte-ckeditor .ck-editor__editable.ck-focused {
	background-color: #fff;
}

/* The CKEditor placeholder. Matches the inspected rules from the GH textarea on Chrome. */
.ck.ck-editor__editable > .ck-placeholder::before {
	color: #6a737d;
	opacity: .54;
}

/* RTE mode */

/* Hide the "Preview" tab. */
.github-rte-mode-rte .preview-tab {
	display: none;
}

/* Hide the markdown textarea outer box. */
.github-rte-mode-rte .github-rte-panel-markdown,
.github-rte-mode-rte .github-rte-panel-preview {
	display: none !important;
}

/* Hide all markdown toolbar. */
.github-rte-mode-rte markdown-toolbar {
	display: none !important;
}

/* Remove the markdown message when in RTE. */
.github-rte-mode-rte .tabnav-extra {
	display: none;
}

/* Markdown mode */

/* Hide the rte textarea outer box. */
.github-rte-mode-markdown .github-rte-panel-rte {
	display: none !important;
}

/* Hide all rte toolbar items. */
.github-rte-mode-markdown .ck.ck-toolbar__separator,
.github-rte-mode-markdown .ck.ck-button {
	display: none !important;
}

/* Except the Kebab and Markdown buttons. */
.github-rte-mode-markdown .ck.ck-button.github-rte-kebab-button,
.github-rte-mode-markdown .ck.ck-button.github-rte-mode-button {
	display: block !important;
}

/* Get the GH toolbar closer to the RTE one (which is always available with the the Kebab button). */
.github-rte-mode-markdown markdown-toolbar.px-2 {
	padding-right: 0 !important;
}
.github-rte-mode-markdown .ck.github-rte-toolbar {
	margin-left: -4px;
}

/* Change the text of the "Write" tab. */
.github-rte-mode-markdown .write-tab {
	font-size: 0;
	line-height: 0;
}
.github-rte-mode-markdown .write-tab::after {
	content: "Markdown";
	font-size: 14px;
	line-height: 20px;
}

/* Classes are prefixed with "div" so they have higher specificity and override default rules. */

/* The following rules are mainly overriding defaults coming from CKEditor and GitHub. */

div.github-rte-ckeditor .ck-editor__editable.ck-focused {
	border: none !important;
	box-shadow: none !important;
}

div.github-rte-ckeditor .ck-editor__editable {
	border: none !important;
	padding: 0 8px;
	resize: vertical;
	width: 100%;
	/*	min-height: 100px; */
}

div.github-rte-ckeditor {
	height: auto !important;
}

/* The following rules needed to be copied because they're applied to the textarea directly, while the editable is a div.
   Most of the CSS here are copies from teh markdown textarea CSS, sniffed with the inspector. */
div.github-rte-ckeditor {
	display: block;
	width: 100%;
	max-width: 100%;
	padding: 0 !important;
	margin: 0;
	line-height: 1.6;
}

/* Do not show the arrow in the Kebab button. */
.github-rte-kebab-button .ck-dropdown__arrow {
	display: none;
}

